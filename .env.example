# Copy to .env and adjust. Docker Compose auto-loads this file and injects
# variables into the container.

# ---------------------------------------------------------------------------
# Build-time toggles (Docker build args â†’ see docker-compose.yml)
# ---------------------------------------------------------------------------
MYWI_WITH_ML=0                     # 1 to include ML extras (FAISS + transformers)
MYWI_WITH_PLAYWRIGHT_BROWSERS=0    # 1 to pre-install Playwright browsers in image

# ---------------------------------------------------------------------------
# Runtime settings (host + container)
# ---------------------------------------------------------------------------
TZ=UTC

# Host folder for data and exports (left side of volume mapping).
# Defaults to ./data inside the repo. Change to an absolute path if you prefer.
# macOS/Linux example:
# HOST_DATA_DIR=/Users/you/mywi_data
# Windows example (use forward slashes or quote):
# HOST_DATA_DIR=C:/Users/you/mywi_data
HOST_DATA_DIR=./data

# Internal data dir inside container (right side, expected by the app)
# The app reads this via settings: data_location = os.getenv("MYWI_DATA_DIR", "data")
MYWI_DATA_DIR=/app/data

# ---------------------------------------------------------------------------
# Application settings (read by settings-example.py via MWI_* env vars)
# Fill secrets here (this file should never be committed; use .env only).
# ---------------------------------------------------------------------------

# --- OpenRouter relevance gate (optional) ---
MWI_OPENROUTER_ENABLED=false
MWI_OPENROUTER_API_KEY=
MWI_OPENROUTER_MODEL=deepseek/deepseek-chat-v3.1
MWI_OPENROUTER_TIMEOUT=15
MWI_OPENROUTER_MIN_CHARS=140
MWI_OPENROUTER_MAX_CHARS=12000
MWI_OPENROUTER_MAX_CALLS=500

# --- SEO Rank enrichment ---
MWI_SEORANK_API_BASE_URL=https://seo-rank.my-addr.com/api2/sr+fb
MWI_SEORANK_API_KEY=

# --- SerpAPI bootstrap ---
MWI_SERPAPI_API_KEY=

# --- Embeddings (bi-encoder) ---
MWI_EMBED_PROVIDER=mistral         # fake|http|openai|mistral|gemini|huggingface|ollama
MWI_EMBED_MODEL=mistral-embed
MWI_EMBED_API_URL=
MWI_OPENAI_API_KEY=
MWI_MISTRAL_API_KEY=
MWI_GEMINI_API_KEY=
MWI_HF_API_KEY=
MWI_OLLAMA_BASE_URL=http://localhost:11434

# --- Semantic Search & NLI ---
MWI_NLI_MODEL_NAME=MoritzLaurer/mDeBERTa-v3-base-xnli-multilingual-nli-2mil7
MWI_NLI_BACKEND=fallback          # auto|transformers|crossencoder|fallback
MWI_NLI_TORCH_THREADS=1
MWI_NLI_FALLBACK_MODEL_NAME=typeform/distilbert-base-uncased-mnli
MWI_SIMILARITY_BACKEND=faiss      # faiss|bruteforce
MWI_SIMILARITY_TOP_K=50
MWI_NLI_ENTAILMENT_THRESHOLD=0.8
MWI_NLI_CONTRADICTION_THRESHOLD=0.8
